# Where Malware Is Today: APIs, Internals, and Obfuscation

Modern malware has evolved well beyond simple viruses or trojans. Today’s threats operate by exploiting the very building blocks of Windows and cloud-native computing. These aren't just malicious files — they're stealthy, adaptive, and deeply integrated into the systems they target.

Malware authors frequently use Windows APIs — programming interfaces built into the operating system — to perform actions like injecting code into legitimate applications, loading shellcode directly into memory, and executing without writing to disk. Examples include `NtAllocateVirtualMemory`, `CreateRemoteThread`, and `QueueUserAPC`.

Internally, attackers are bypassing security services like Windows Defender by tampering with Event Tracing for Windows (ETW) or the Antimalware Scan Interface (AMSI). These bypasses are often memory-resident and leave few traces.

Obfuscation has become standard: modern malware employs control flow flattening (scrambling the logic), garbage imports (to confuse static scanners), section header manipulation (to hide code inside valid files), and dynamic API resolution (to avoid detection). Shellcode loaders today often decrypt payloads in memory and execute using reflectively loaded DLLs or syscalls — making them hard to catch.

Understanding this evolution is key to defending endpoints and enterprise infrastructure. It also requires defenders to know what’s normal at the API level, so they can detect what isn’t.

